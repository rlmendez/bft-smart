<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Fri Sep 16 16:33:15 BST 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ServiceReplica
</TITLE>

<META NAME="date" CONTENT="2011-09-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServiceReplica";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ServiceReplica.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../navigators/smart/tom/ServiceProxy.html" title="class in navigators.smart.tom"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../navigators/smart/tom/TOMReceiver.html" title="class in navigators.smart.tom"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?navigators/smart/tom/ServiceReplica.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServiceReplica.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
navigators.smart.tom</FONT>
<BR>
Class ServiceReplica</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../navigators/smart/tom/TOMReceiver.html" title="class in navigators.smart.tom">navigators.smart.tom.TOMReceiver</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>navigators.smart.tom.ServiceReplica</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable, <A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../navigators/smart/tom/demo/keyvalue/BFTMapImpl.html" title="class in navigators.smart.tom.demo.keyvalue">BFTMapImpl</A>, <A HREF="../../../navigators/smart/tom/demo/counter/CounterServer.html" title="class in navigators.smart.tom.demo.counter">CounterServer</A>, <A HREF="../../../navigators/smart/tom/demo/microbenchmarks/LatencyServer.html" title="class in navigators.smart.tom.demo.microbenchmarks">LatencyServer</A>, <A HREF="../../../navigators/smart/tom/demo/random/RandomServer.html" title="class in navigators.smart.tom.demo.random">RandomServer</A>, <A HREF="../../../navigators/smart/tom/demo/microbenchmarks/ThroughputLatencyServer.html" title="class in navigators.smart.tom.demo.microbenchmarks">ThroughputLatencyServer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>ServiceReplica</B><DT>extends <A HREF="../../../navigators/smart/tom/TOMReceiver.html" title="class in navigators.smart.tom">TOMReceiver</A><DT>implements java.lang.Runnable</DL>
</PRE>

<P>
This class implements a TOMReceiver, and also a replica for the server side of the application.
 It receives requests from the clients, runs a TOM layer, and sends a reply back to the client
 Applications must create a class that extends this one, and implement the executeOrdered method
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#ServiceReplica(int)">ServiceReplica</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#ServiceReplica(int, boolean)">ServiceReplica</A></B>(int&nbsp;id,
               boolean&nbsp;isToJoin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#ServiceReplica(int, java.lang.String)">ServiceReplica</A></B>(int&nbsp;id,
               java.lang.String&nbsp;configHome)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#ServiceReplica(int, java.lang.String, boolean)">ServiceReplica</A></B>(int&nbsp;id,
               java.lang.String&nbsp;configHome,
               boolean&nbsp;isToJoin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#deserializeState(byte[])">deserializeState</A></B>(byte[]&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#executeOrdered(byte[], navigators.smart.tom.MessageContext)">executeOrdered</A></B>(byte[]&nbsp;command,
               <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method called to execute a request totally ordered.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#executeUnordered(byte[], navigators.smart.tom.MessageContext)">executeUnordered</A></B>(byte[]&nbsp;command,
                 <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method called to execute a request totally ordered.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#getState()">getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ISTO E CODIGO DO JOAO, PARA TRATAR DOS CHECKPOINTS</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#joinMsgReceived(navigators.smart.reconfiguration.TTPMessage)">joinMsgReceived</A></B>(<A HREF="../../../navigators/smart/reconfiguration/TTPMessage.html" title="class in navigators.smart.reconfiguration">TTPMessage</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#leave()">leave</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method makes the replica leave the group</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#receiveMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)">receiveMessage</A></B>(<A HREF="../../../navigators/smart/tom/core/messages/TOMMessage.html" title="class in navigators.smart.tom.core.messages">TOMMessage</A>&nbsp;msg,
               <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the method invoked to deliver a unordered (read-only) requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#receiveOrderedMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)">receiveOrderedMessage</A></B>(<A HREF="../../../navigators/smart/tom/core/messages/TOMMessage.html" title="class in navigators.smart.tom.core.messages">TOMMessage</A>&nbsp;msg,
                      <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the method invoked to deliver a totally ordered request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method runs the replica code</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#serializeState()">serializeState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#setState(byte[])">setState</A></B>(byte[]&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is invoked by the TOM Layer in order to ser a state upon the aplication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../navigators/smart/tom/ServiceReplica.html#waitForProcessingRequests()">waitForProcessingRequests</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method waits for the batch of messages to finish being processed</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_navigators.smart.tom.TOMReceiver"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class navigators.smart.tom.<A HREF="../../../navigators/smart/tom/TOMReceiver.html" title="class in navigators.smart.tom">TOMReceiver</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../navigators/smart/tom/TOMReceiver.html#getReplicaContext()">getReplicaContext</A>, <A HREF="../../../navigators/smart/tom/TOMReceiver.html#init(navigators.smart.communication.ServerCommunicationSystem, navigators.smart.reconfiguration.ReconfigurationManager)">init</A>, <A HREF="../../../navigators/smart/tom/TOMReceiver.html#init(navigators.smart.communication.ServerCommunicationSystem, navigators.smart.reconfiguration.ReconfigurationManager, int, int)">init</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ServiceReplica(int)"><!-- --></A><H3>
ServiceReplica</H3>
<PRE>
public <B>ServiceReplica</B>(int&nbsp;id)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Replica ID</DL>
</DL>
<HR>

<A NAME="ServiceReplica(int, java.lang.String)"><!-- --></A><H3>
ServiceReplica</H3>
<PRE>
public <B>ServiceReplica</B>(int&nbsp;id,
                      java.lang.String&nbsp;configHome)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Process ID<DD><CODE>configHome</CODE> - Configuration directory for JBP</DL>
</DL>
<HR>

<A NAME="ServiceReplica(int, boolean)"><!-- --></A><H3>
ServiceReplica</H3>
<PRE>
public <B>ServiceReplica</B>(int&nbsp;id,
                      boolean&nbsp;isToJoin)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Replica ID<DD><CODE>isToJoin</CODE> - if true, the replica tries to join the system, otherwise it waits for TTP message
 informing its join</DL>
</DL>
<HR>

<A NAME="ServiceReplica(int, java.lang.String, boolean)"><!-- --></A><H3>
ServiceReplica</H3>
<PRE>
public <B>ServiceReplica</B>(int&nbsp;id,
                      java.lang.String&nbsp;configHome,
                      boolean&nbsp;isToJoin)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="joinMsgReceived(navigators.smart.reconfiguration.TTPMessage)"><!-- --></A><H3>
joinMsgReceived</H3>
<PRE>
public void <B>joinMsgReceived</B>(<A HREF="../../../navigators/smart/reconfiguration/TTPMessage.html" title="class in navigators.smart.reconfiguration">TTPMessage</A>&nbsp;msg)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>This method runs the replica code
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="receiveOrderedMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)"><!-- --></A><H3>
receiveOrderedMessage</H3>
<PRE>
public final void <B>receiveOrderedMessage</B>(<A HREF="../../../navigators/smart/tom/core/messages/TOMMessage.html" title="class in navigators.smart.tom.core.messages">TOMMessage</A>&nbsp;msg,
                                        <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</PRE>
<DL>
<DD>This is the method invoked to deliver a totally ordered request.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#receiveOrderedMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)">receiveOrderedMessage</A></CODE> in interface <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - The request delivered by the delivery thread<DD><CODE>msgCtx</CODE> - the context of the message being delivered</DL>
</DD>
</DL>
<HR>

<A NAME="receiveMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)"><!-- --></A><H3>
receiveMessage</H3>
<PRE>
public final void <B>receiveMessage</B>(<A HREF="../../../navigators/smart/tom/core/messages/TOMMessage.html" title="class in navigators.smart.tom.core.messages">TOMMessage</A>&nbsp;msg,
                                 <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</PRE>
<DL>
<DD>This is the method invoked to deliver a unordered (read-only) requests.
 These requests are enqueued for processing just like ordered requests.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#receiveMessage(navigators.smart.tom.core.messages.TOMMessage, navigators.smart.tom.MessageContext)">receiveMessage</A></CODE> in interface <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - the request delivered by the TOM layer</DL>
</DD>
</DL>
<HR>

<A NAME="leave()"><!-- --></A><H3>
leave</H3>
<PRE>
public void <B>leave</B>()</PRE>
<DL>
<DD>This method makes the replica leave the group
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"><!-- --></A><H3>
getState</H3>
<PRE>
public byte[] <B>getState</B>()</PRE>
<DL>
<DD>ISTO E CODIGO DO JOAO, PARA TRATAR DOS CHECKPOINTS
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#getState()">getState</A></CODE> in interface <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>An rray of bytes that can be diserialized into the application state</DL>
</DD>
</DL>
<HR>

<A NAME="setState(byte[])"><!-- --></A><H3>
setState</H3>
<PRE>
public void <B>setState</B>(byte[]&nbsp;state)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#setState(byte[])">TOMRequestReceiver</A></CODE></B></DD>
<DD>This method is invoked by the TOM Layer in order to ser a state upon the aplication. This is done when
 a replica is delayed compared to the rest of the group, and when it recovers after a failure.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#setState(byte[])">setState</A></CODE> in interface <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitForProcessingRequests()"><!-- --></A><H3>
waitForProcessingRequests</H3>
<PRE>
public void <B>waitForProcessingRequests</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#waitForProcessingRequests()">TOMRequestReceiver</A></CODE></B></DD>
<DD>This method waits for the batch of messages to finish being processed
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html#waitForProcessingRequests()">waitForProcessingRequests</A></CODE> in interface <CODE><A HREF="../../../navigators/smart/tom/TOMRequestReceiver.html" title="interface in navigators.smart.tom">TOMRequestReceiver</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="serializeState()"><!-- --></A><H3>
serializeState</H3>
<PRE>
protected abstract byte[] <B>serializeState</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deserializeState(byte[])"><!-- --></A><H3>
deserializeState</H3>
<PRE>
protected abstract void <B>deserializeState</B>(byte[]&nbsp;state)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="executeOrdered(byte[], navigators.smart.tom.MessageContext)"><!-- --></A><H3>
executeOrdered</H3>
<PRE>
public abstract byte[] <B>executeOrdered</B>(byte[]&nbsp;command,
                                      <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</PRE>
<DL>
<DD>Method called to execute a request totally ordered. It is meant to be
 implemented by subclasses of this class. 
 
 The message context contains a lot of information about the request, such
 as timestamp, nonces and sender. The code for this method MUST use the value
 of timestamp instead of relying on its own local clock, and nonces instead
 of trying to generated its own random values.
 
 This is important because this values are the same for all replicas, and
 therefore, ensure the determinism required in a replicated state machine.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>command</CODE> - the command issue by the client<DD><CODE>msgCtx</CODE> - information related with the command
<DT><B>Returns:</B><DD>the reply for the request issued by the client</DL>
</DD>
</DL>
<HR>

<A NAME="executeUnordered(byte[], navigators.smart.tom.MessageContext)"><!-- --></A><H3>
executeUnordered</H3>
<PRE>
public abstract byte[] <B>executeUnordered</B>(byte[]&nbsp;command,
                                        <A HREF="../../../navigators/smart/tom/MessageContext.html" title="class in navigators.smart.tom">MessageContext</A>&nbsp;msgCtx)</PRE>
<DL>
<DD>Method called to execute a request totally ordered. It is meant to be
 implemented by subclasses of this class. 
 
 The message context contains some useful information such as the command
 sender.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>command</CODE> - the command issue by the client<DD><CODE>msgCtx</CODE> - information related with the command
<DT><B>Returns:</B><DD>the reply for the request issued by the client</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ServiceReplica.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../navigators/smart/tom/ServiceProxy.html" title="class in navigators.smart.tom"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../navigators/smart/tom/TOMReceiver.html" title="class in navigators.smart.tom"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?navigators/smart/tom/ServiceReplica.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ServiceReplica.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
